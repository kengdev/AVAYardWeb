@{
    Layout = "~/Views/Shared/_PartialLayout.cshtml";
}

@section Styles {
    <style>
        .action-td {
            width: 50px !important;
            text-align: center;
        }

        .name-td {
            text-align: left;
        }

        .type-td {
            text-align: center;
        }

        .dataTables_filter {
            display: inline !important;
        }

        div.dataTables_wrapper {
            margin: 0 auto;
        }

        .table {
            border-top: none !important;
        }
    </style>
}
<div class="col-lg-12">
    <div class="table-wrapper">
        <table class="table table-striped table-hover table-checkable order-column" id="table-container">
            <thead>
                <tr>
                    <th></th>
                    <th> Container No.</th>
                    <th> Size</th>
                    <th> Agent</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

@section scripts
{
    <script type="text/javascript">
        (function ($) {
            var oTable = $('#table-container').DataTable({
                "processing": true,
                "scrollY": 350,
                "serverSide": true,
                "iDisplayLength": 10,
                "scrollCollapse": false,
                "order": [
                    [1, "asc"]
                ],
                "sAjaxSource": "/Search/GetMatchContainerList",
                "fnRowCallback": function (row, aData, index) {

                },
                "fnServerParams": function (aoData) {

                },
                "oLanguage": {
                    "sInfoFiltered": " ",
                    "sInfo": "แสดงจำนวน _START_ to _END_ รายการ (ทั้งหมด _TOTAL_ รายการ)",
                    "sSearch": "ค้นหา : ",
                    "sLengthMenu": 'แสดงจำนวน <select class="form-control">' +
                        '<option value="10" selected>10</option>' +
                        '<option value="20">20</option>' +
                        '<option value="30">30</option>' +
                        '<option value="40">40</option>' +
                        '<option value="50">50</option>' +
                        '<option value="100">100</option>' +
                        '</select> รายการ'
                },
                "columnDefs": [{
                        className: "action-td",
                        targets: 0
                    },
                    {
                        className: "container-td",
                        targets: 1
                    },
                    {
                        className: "type-td",
                        targets: 2
                    },
                    {
                        className: "name-td",
                        targets: 3
                    }
                ],
                "columns": [{
                        "data": "order_code",
                        "orderable": false,
                        "render": function (data, type, row) {
                            var load =
                                '<a href="javascript:;" class="font-red" data-title="ใช้ข้อมูลนี้"  data-toggle="tooltip" data-trigger="hover" onclick=setValue("' +
                                row.order_code + '")><i class="fad fa-link"></i></a>';
                            return load
                        }
                    },
                    {
                        "data": "container_no"
                    },
                    {
                        "data": "container_size"
                    },
                    {
                        "data": "agent_name"
                    }
                ]
            });
        }(jQuery));

        function setValue(code) {
            window.opener.setContainerBox(code);
            self.close();
        }
    </script>
}